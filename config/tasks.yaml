search_options:
  description: >
    Plan a business trip with these parameters:
    - Origin: {origin}
    - Destination: {destination}
    - Departure: {depart_date}
    - Return: {return_date}
    - Purpose: {purpose}
    - Budget: ${budget}
    
    Steps:
    1. Get traveler's preferences and history (airlines, hotels, rental car companies)
    2. Search for flight options
    3. Search for hotel options
    4. Search for rental car options (Hertz, Enterprise, National - max $75/day) - MUST show all 3 companies
    5. Prioritize options using these criteria:
       - DIRECT FLIGHTS are strongly preferred (minimize employee travel time)
       - If direct flight costs $150 more, still recommend it (time is valuable)
       - Shorter travel duration is better
       - Match traveler's preferred airlines/hotels/rental companies
       - Rental cars: Only include if trip requires ground transportation
    6. Present top 3 travel packages (flight + hotel + rental car combinations)
    
    IMPORTANT: Always highlight direct flights and explain time savings vs. connecting flights.
  expected_output: >
    A list of 3 recommended travel packages, each with:
    - Flight details (airline, times, price, DIRECT vs connecting, duration)
    - Hotel details (name, location, nightly rate, total)
    - Rental car details (company, vehicle, daily rate, total)
    - Total package cost (flight + hotel + car)
    - Why this option is recommended (emphasize direct flights and time efficiency)
  agent: travel_planner

check_policy:
  description: >
    Review the recommended travel packages and verify they comply with company policy.
    Check: flight class restrictions, hotel rate limits, total budget, advance booking requirements.
    Flag any violations and suggest alternatives if needed.
  expected_output: >
    Policy compliance report for each package with:
    - Compliance status (approved/needs review)
    - Any violations or warnings
    - Recommendations for policy-compliant alternatives
  agent: policy_officer

research_destination:
  description: >
    Research {destination} for travel dates {depart_date} to {return_date}.
    
    Provide:
    - Weather forecast
    - Travel warnings/advisories
    - Top 5 business-friendly restaurants
    - Things to do (evening/downtime activities)
    - Ground transportation tips
  expected_output: >
    Comprehensive destination guide with weather, dining, activities, 
    safety info, and transportation recommendations
  agent: research_specialist

final_recommendation:
  description: >
    Using the information from previous tasks, create a comprehensive travel plan 
    for the trip from {origin} to {destination}.
    
    REQUIRED FORMAT - You MUST include ALL sections below:
    
    1. **Flight Options:** List 3 options with departure/arrival times and prices
    
    2. **Hotel Options:** List 3 options with nightly rates and total costs
    
    3. **Rental Car Options:** MANDATORY - List ALL 3 options (Hertz, Enterprise, National) with daily rates and total costs.
       DO NOT show just one option - you MUST include all three companies in a comparison chart.
    
    4. **Total Package Cost:** MANDATORY TABLE FORMAT (use markdown table):
    
    | Option | Flight | Hotel | Rental Car | Total |
    | --- | --- | --- | --- | --- |
    | **Package 1:** [Airline] + [Hotel] + [Car Co.] | $XXX | $XXX | $XXX | $XXX |
    | **Package 2:** [Airline] + [Hotel] + [Car Co.] | $XXX | $XXX | $XXX | $XXX |
    | **Package 3:** [Airline] + [Hotel] + [Car Co.] | $XXX | $XXX | $XXX | $XXX |
    
    5. **Policy Compliance:** Summary of any issues or approvals needed
    
    6. **Destination Guide:** Brief weather, dining, and activity highlights
    
    7. **Next Steps:** Clear booking instructions
    
    CRITICAL: The table in section 4 is MANDATORY. Always include it with exact pricing for all components.
    Use markdown formatting with headers, bullet points, and emphasis.
    Do NOT just return tool actions - provide the complete formatted response.
  expected_output: >
    A complete, formatted travel plan in markdown with:
    - Clear headers for each section
    - 3 specific flight options with all details
    - 3 specific hotel options with all details
    - ALL 3 rental car options (Hertz, Enterprise, National) - DO NOT show just one company
    - MANDATORY: Markdown table showing Total Package Cost for all 3 combinations (flight + hotel + car)
    - Policy compliance summary (ensure car rentals are under $75/day)
    - Destination highlights
    - Action items for booking
    
    CRITICAL: You must show a comparison chart with ALL THREE rental car companies (Hertz, Enterprise, National).
    Do not show only the preferred option - the user needs to compare all three.
    The table format is critical for user decision-making.
    This should be a final, polished response ready for the traveler to read.
  agent: travel_planner
  context:
    - search_options
    - check_policy
    - research_destination

