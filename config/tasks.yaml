search_options:
  description: >
    Plan a business trip with these parameters:
    - Origin: {origin}
    - Destination: {destination}
    - Departure: {depart_date}
    - Return: {return_date}
    - Purpose: {purpose}
    - Budget: ${budget}
    
    Steps:
    1. Get traveler's preferences and history (airlines, hotels, rental car companies)
    2. Search for flight options
    3. Search for hotel options
    4. Search for rental car options (Hertz, Enterprise, National - max $75/day) - MUST show all 3 companies
    5. Prioritize options using these criteria:
       - DIRECT FLIGHTS are strongly preferred (minimize employee travel time)
       - If direct flight costs $150 more, still recommend it (time is valuable)
       - Shorter travel duration is better
       - Match traveler's preferred airlines/hotels/rental companies
       - Rental cars: Only include if trip requires ground transportation
    6. Present top 3 travel packages (flight + hotel + rental car combinations)
    
    IMPORTANT: Always highlight direct flights and explain time savings vs. connecting flights.
  expected_output: >
    A list of 3 recommended travel packages, each with:
    - Flight details (airline, times, price, DIRECT vs connecting, duration)
    - Hotel details (name, location, nightly rate, total)
    - Rental car details (company, vehicle, daily rate, total)
    - Total package cost (flight + hotel + car)
    - Why this option is recommended (emphasize direct flights and time efficiency)
  agent: travel_planner

check_policy:
  description: >
    Review the recommended travel packages and verify they comply with company policy.
    Check: flight class restrictions, hotel rate limits, total budget, advance booking requirements.
    Flag any violations and suggest alternatives if needed.
  expected_output: >
    Policy compliance report for each package with:
    - Compliance status (approved/needs review)
    - Any violations or warnings
    - Recommendations for policy-compliant alternatives
  agent: policy_officer

research_destination:
  description: >
    Use the research_destination_tool to get information about {destination} 
    for travel dates {depart_date} to {return_date}.
    
    Simply call the tool with: destination={destination}, travel_date={depart_date}, trip_purpose={purpose}
    
    The tool will return weather, restaurants, activities, and travel warnings.
    Return the tool output directly - do not reformat or modify it.
  expected_output: >
    The complete output from research_destination_tool including weather forecast, 
    top 5 restaurants, things to do, and travel warnings. Return exactly as provided by the tool.
  agent: research_specialist

final_recommendation:
  description: >
    Create a comprehensive travel plan from {origin} to {destination} using ACTUAL data from previous tasks.
    
    CRITICAL: Use real flight numbers, hotel names, prices from the tool results. DO NOT use placeholders like XXX or [Airline].
    
    Format your response with these sections using icons:
    
    ## 🎯 Recommended Travel Packages
    
    **Complete packages with flights, hotels, and rental cars:**
    
    Create a compact table with 3 packages. Use this format:
    
    | Package | Flight | Hotel | Car | **Total** |
    | --- | --- | --- | --- | --- |
    
    Keep it simple:
    - Package column: "Package 1:<br>United + Courtyard + Hertz" (use <br> for line break)
    - Flight column: "$450" (just the number)
    - Hotel column: "$525" (just the number)
    - Car column: "$195" (just the number, shortened header saves space)
    - Total column: "**$1,170**" (bold, has more room now)
    
    ### Package Details:
    
    For each package, include:
    - ✈️ **Flight:** Use actual airline, flight number, and price from tools
    - 🏨 **Hotel:** Use actual hotel name, nightly rate, total cost from tools
    - 🚗 **Rental Car:** Use actual company name, vehicle type, daily rate from tools
    - ⭐ **Matches:** List any that match travel history preferences
    
    Also include these sections with data from previous tasks:
    - ## ✈️ Flight Options (show 3-5 flights in a table)
    - ## 🏨 Hotel Options (show 3-5 hotels in a table)
    - ## 🚗 Rental Car Options (show all 3: Hertz, Enterprise, National)
    - ## 🛡️ Policy Compliance (status from policy check)
    - ## 🌤️ Weather Forecast (from research tool)
    - ## 🍽️ Top 5 Restaurants (from research tool)
    - ## 📍 Things to Do (from research tool)
    - ## 📋 Booking Steps
  expected_output: >
    A complete travel plan with real data from the tools. Use icons (✈️, 🏨, 🚗, 🎯, ⭐).
    Include package comparison table with ACTUAL prices, airlines, hotels, and rental companies.
    NO placeholders - all data must be real from tool results.
  agent: travel_planner
  context:
    - search_options
    - check_policy
    - research_destination

